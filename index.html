<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2E86AB">
    <meta name="description" content="ØªØ·Ø¨ÙŠÙ‚ Ø­Ø¬Ø² Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª">
    <title>Ù…ÙˆØ§Ù‚ÙÙ†Ø§ - Ø­Ø¬Ø² Ù…ÙˆØ§Ù‚Ù</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .app-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            color: #333;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .header {
            background: #2E86AB;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .content {
            padding: 20px;
        }
        
        .parking-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid #e9ecef;
        }
        
        .parking-card h3 {
            color: #2E86AB;
            margin-bottom: 10px;
        }
        
        .parking-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .price {
            font-weight: bold;
            color: #28a745;
            font-size: 1.2rem;
        }
        
        .btn {
            background: #2E86AB;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }
        
        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        
        .available {
            color: #28a745;
            font-weight: bold;
        }
        
        .unavailable {
            color: #dc3545;
            font-weight: bold;
        }
        
        .install-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            margin: 20px auto;
            display: block;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>ğŸ…¿ï¸ Ù…ÙˆØ§Ù‚ÙÙ†Ø§</h1>
            <p>Ø§Ø­Ø¬Ø² Ù…ÙˆÙ‚Ù Ø³ÙŠØ§Ø±ØªÙƒ Ù…Ø³Ø¨Ù‚Ø§Ù‹</p>
        </div>
        
        <div class="content">
            <div class="parking-card">
                <h3>Ù…ÙˆÙ‚Ù Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</h3>
                <div class="parking-info">
                    <span class="available">Ù…ØªØ§Ø­</span>
                    <span class="price">15 Ø±ÙŠØ§Ù„/Ø³Ø§Ø¹Ø©</span>
                </div>
                <button class="btn" onclick="bookParking(1)">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button>
            </div>
            
            <div class="parking-card">
                <h3>Ù…ÙˆÙ‚Ù Ø§Ù„Ù…Ø·Ø§Ø±</h3>
                <div class="parking-info">
                    <span class="available">Ù…ØªØ§Ø­</span>
                    <span class="price">20 Ø±ÙŠØ§Ù„/Ø³Ø§Ø¹Ø©</span>
                </div>
                <button class="btn" onclick="bookParking(2)">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button>
            </div>
            
            <div class="parking-card">
                <h3>Ù…ÙˆÙ‚Ù Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</h3>
                <div class="parking-info">
                    <span class="unavailable">Ù…ÙƒØªÙ…Ù„</span>
                    <span class="price">10 Ø±ÙŠØ§Ù„/Ø³Ø§Ø¹Ø©</span>
                </div>
                <button class="btn" disabled>ØºÙŠØ± Ù…ØªØ§Ø­</button>
            </div>
            
            <button class="install-btn" id="installButton" style="display:none;">
                ğŸ“² ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
            </button>
        </div>
    </div>

    <script>
        // ÙƒÙˆØ¯ PWA
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('installButton').style.display = 'block';
        });
        
        document.getElementById('installButton').addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    document.getElementById('installButton').style.display = 'none';
                }
            }
        });
        
        function bookParking(parkingId) {
            alert(`ØªÙ… Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆÙ‚Ù Ø¨Ù†Ø¬Ø§Ø­! Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²: #${Math.floor(Math.random() * 1000)}`);
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(() => console.log('Service Worker registered'))
                .catch(() => console.log('Service Worker failed'));
        }
    </script>
</body>
</html>